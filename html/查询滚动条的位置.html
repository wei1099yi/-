<html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>查询滚动条的位置</title>
        <style>
            #box {
                width: 100%;
                height: 2000px;
                background-color: red;
            }
        </style>
    </head>
    <body>
        <div id="box"></div>
    </body>
    <script>
        function getScrollOffsets(w) {
            // 使用指定窗口，如果不带参数，则使用当前窗口
            w = w || window;

            // 除了 IE8 及更早的版本外， 其他浏览器都可以用
            if (w.pageXOffset != null)
                return { msg: '除了 IE8 及更早的版本外， 其他浏览器都可以用', x: w.pageXOffset, y: w.pageYOffset };

            // 对于标准模式下的 IE 或其他任何浏览器
            var d = w.document;
            if (document.compatMode == "CSS1Compat") {
                return {
                    msg: "标准模式下包括 IE8 等其他浏览器",
                    x: d.document.documnetElement.scrollLeft,
                    y: d.document.documnetElement.scrollTop,
                };
            }
            // 对于怪异模式下的浏览器
            return { msg: "怪异模式下", x: d.body.scrollLift, y: scrollTop };
        }

        var box = document.getElementById("box");
        if (box.addEventListener) {
            box.addEventListener("mousewheel", function () {
                console.log(getScrollOffsets());
            });
        } else if (box.attachEvent) {
            box.attachEvent("onmousewheel", function () {
                console.log(getScrollOffsets());
            });
        }
    </script>
</html>
